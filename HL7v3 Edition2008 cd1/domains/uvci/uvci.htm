<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <link rel="stylesheet" type="text/css" href="../../support/css/v3m.css" title="v3m" /><script src="../../support/js/tree.js" type="text/javascript"></script><script src="../../support/js/setTopFrameText.js" type="text/javascript"></script><script src="../../support/js/swapcss.js" type="text/javascript"></script><script type="text/javascript">
			if (find('heading')) setHeadingTextFromFileName(document.location.href);
			</script><title>Domain: Transmission Infrastructure</title>
   </head>
   <body>
      <div class="section">
         <h1>Domain: Transmission Infrastructure</h1>
         <table cellspacing="0" cellpadding="3" border="1">
            <tr>
               <td align="center"><img src="../../support/graphics/ansilogo.gif" alt="ANSI" /><br />ANSI/HL7 V3 IM, R1-2004<br />HL7 Version 3 Standard: Infrastructure Management: Transmission Infrastructure<br />10/20/2004<img width="5" alt="spacer" src="../../support/graphics/spacer.gif" /></td>
            </tr>
         </table>
         <table style="border-width:0" width="100%" cellpadding="6">
            <tr>
               <td valign="top" align="left">Control Query Co-Chair</td>
               <td valign="top" align="left">Graham Grieve<br />Kestral Computing Pty Ltd.
               </td>
            </tr>
            <tr>
               <td valign="top" align="left">Control Query Co-Chair</td>
               <td valign="top" align="left">Mike Henderson<br />Eastern Informatics
               </td>
            </tr>
            <tr>
               <td valign="top" align="left">Control Query Co-Chair</td>
               <td valign="top" align="left">Joann Larson<br />Kaiser Permanente
               </td>
            </tr>
            <tr>
               <td valign="top" align="left">Primary Contributor</td>
               <td valign="top" align="left">Dale Nelson<br />Zed-Logic Informatics, LLC
               </td>
            </tr>
            <tr>
               <td valign="top" align="left">Control Query Co-Chair</td>
               <td valign="top" align="left">Jennifer Puyenbroek<br />McKesson Information Solutions
               </td>
            </tr>
            <tr>
               <td valign="top" align="left">Primary Contributor</td>
               <td valign="top" align="left">Larry Reis<br />LR Consulting
               </td>
            </tr>
            <tr>
               <td valign="top" align="left">Primary Contributor</td>
               <td valign="top" align="left">Mark Shafarman<br />Oracle Corporation
               </td>
            </tr>
            <tr>
               <td valign="top" align="left">Control Query Co-Chair</td>
               <td valign="top" align="left">Rene Spronk<br />Ringholm GmbH
               </td>
            </tr>
            <tr>
               <td valign="top" align="left">Primary Contributor</td>
               <td valign="top" align="left">Mark Tucker<br />Regenstrief Institute for Health Care
               </td>
            </tr>
         </table>
         <p class="copyright">Last Published: 06/23/2008 1:52 PM</p>
         <p class="lastEdit">Content Last Edited: 6/20/2005 6:48:53 PM</p>
         <p class="copyright">HL7® Version 3 Standard, © 2008 Health 
            Level Seven®, Inc.  All Rights Reserved.
         </p>
         <p class="copyright">HL7 and Health Level Seven are registered 
            trademarks of Health Level Seven, Inc.  Reg. U.S. Pat &amp; TM Off
         </p>
         <hr title="Separator for header" />
         <h2><a name="contents">Table of Contents</a></h2><br /><a href="#prefBegin">Preface</a><br /><span>    i  <a href="UVCI.htm#prefNotes">Notes to Readers</a><br /></span><span>    ii  <a href="UVCI.htm#navigate-divs">Message Design Element Navigation</a><br /></span>1  <a href="UVCI.htm#intro-MCCI_DO000000UV-ic">Overview</a><br />    1.1  <a href="UVCI.htm#spec-scope">Introduction &amp; Scope</a><br />
         			    1.2  <a href="UVCI.htm#dmims-MCCI_DO000000UV-ic">Domain Message Information Models</a><br />2.  <a href="UVCI_GenericMessageTransmission.htm#MCCI_DO000000UV-GenericMessageTransmission-ic">Generic Message Transmission Topic</a><br /><span>    2.1  <a href="UVCI_GenericMessageTransmission.htm#sbs-MCCI_DO000000UV-GenericMessageTransmission-ic">Storyboards</a><br /></span><span>    2.2  <a href="UVCI_GenericMessageTransmission.htm#roles-MCCI_DO000000UV-GenericMessageTransmission-ic">Application Roles</a><br /></span><span>    2.3  <a href="UVCI_GenericMessageTransmission.htm#tes-MCCI_DO000000UV-GenericMessageTransmission-ic">Trigger Events</a><br /></span><span>    2.4  <a href="UVCI_GenericMessageTransmission.htm#rmims-MCCI_DO000000UV-GenericMessageTransmission-ic">Refined Message Information Models</a><br /></span><span>    2.5  <a href="UVCI_GenericMessageTransmission.htm#hmds-MCCI_DO000000UV-GenericMessageTransmission-ic">Hierarchical Message Descriptions</a><br /></span><span>    2.6  <a href="UVCI_GenericMessageTransmission.htm#ints-MCCI_DO000000UV-GenericMessageTransmission-ic">Interactions</a><br /></span>3.  <a href="UVCI_PollingMessageTransmission.htm#MCCI_DO000000UV-PollingMessageTransmission-ic">Polling Message Transmission Topic</a><br /><span>    3.1  <a href="UVCI_PollingMessageTransmission.htm#sbs-MCCI_DO000000UV-PollingMessageTransmission-ic">Storyboards</a><br /></span><span>    3.2  <a href="UVCI_PollingMessageTransmission.htm#roles-MCCI_DO000000UV-PollingMessageTransmission-ic">Application Roles</a><br /></span><span>    3.3  <a href="UVCI_PollingMessageTransmission.htm#tes-MCCI_DO000000UV-PollingMessageTransmission-ic">Trigger Events</a><br /></span><span>    3.4  <a href="UVCI_PollingMessageTransmission.htm#rmims-MCCI_DO000000UV-PollingMessageTransmission-ic">Refined Message Information Models</a><br /></span><span>    3.5  <a href="UVCI_PollingMessageTransmission.htm#hmds-MCCI_DO000000UV-PollingMessageTransmission-ic">Hierarchical Message Descriptions</a><br /></span><span>    3.6  <a href="UVCI_PollingMessageTransmission.htm#ints-MCCI_DO000000UV-PollingMessageTransmission-ic">Interactions</a><br /></span>4.  <a href="UVCI_DO_CT.htm#MCCI_DO000000UV-ic">Common Message Elements Annex<br /></a>
         		    4.1  <a href="UVCI_DO_CT.htm#MCCI_DO000000UV-icc2id">CMETs Used In This Domain</a><br />5.  <a href="UVCI_DO_XX.htm#indx-MCCI_DO000000UV-ic">Interaction Annex</a><br />
         		    5.1  <a href="UVCI_DO_XX.htm#MCCI_DO000000UV-ic1id">By Application Role</a><br />
         		    5.2  <a href="UVCI_DO_XX.htm#MCCI_DO000000UV-ic2id">By Trigger Event</a><br />
         		    5.3  <a href="UVCI_DO_XX.htm#MCCI_DO000000UV-ic3id">By Message Type</a><br />6.  <a href="uvci_glossary.htm#">Glossary</a><br /><div class="body">
            <div class="subSection">
               <div class="header">
                  <h3><a name="prefBegin">Preface</a></h3>
               </div>
            </div>
            <p><a xmlns="" name="MCCI_ANCH_NoteToBalloters"></a></p>
            <div class="subSection">
               <div class="header"><span class="icon"> </span><span class="number">i </span><span class="title"><a name="prefNotes">Notes to Readers</a></span></div>
               <div class="body">
                  <p><strong>Notes</strong></p>
                  <ul style="margin-left:20px;">
                     <li>Version 3, Release 1</li>
                     <li><a xmlns="" name="MCCI_ANCH_SiteDefinedValueSets"></a>The vocabulary domain for some attributes have no values (e.g., these are to be defined on a site-specific basis).  The valid
                        coding strength of the datatype for the attributes is CWE (coded with exception).
                     </li>
                     <li>Some vocabulary domains are difficult to find via the Vocabulary section.  It is recommended that the reader use the hyperlinks
                        provided in the Excel or Table Views to reach the specific domains.
                     </li>
                     <li>In order to properly sort some of the artifacts, the structured sort names have some extraneous characters.  We apologize
                        for this confusion but it is required for editorial purposes.  It has no effect on the messages themselves.
                     </li>
                  </ul>
                  <p><a xmlns="" name="MCCI_ANCH_KnownIssues"></a></p>
               </div>
            </div>
            <div class="subSection">
               <div class="header"><span class="icon"> </span><span class="number">ii </span><span class="title"><a name="navigate-divs">Message Design Element Navigation</a></span></div>
               <div class="body">
                  <table class="artifactList">
                     <tr>
                        <td class="artifactList_desc">
                           <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                              <tr id="d0e102" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                 <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Send Message Payload&nbsp;<a href="../../domains/uvci/uvci_GenericMessageTransmission.htm#MCCI_RM000100UV01-rmi" class="toc_link">MCCI_RM000100UV01</a></strong></span></td>
                              </tr>
                              <tr class="toc_row_master">
                                 <td class="toc_indent_flag_gap"> </td>
                                 <td valign="top">
                                    <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                                       <tr id="d0e104" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                          <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Message Local Create Send Message Payload&nbsp;<a href="../../domains/uvci/uvci_GenericMessageTransmission.htm#MCCI_HD000100UV01-hmd" class="toc_link">MCCI_HD000100UV01</a></strong></span></td>
                                       </tr>
                                       <tr class="toc_row_master">
                                          <td class="toc_indent_flag_gap"> </td>
                                          <td valign="top">
                                             <table cellpadding="0" cellspacing="0" style="border:0px">
                                                <tr>
                                                   <td>
                                                      <table style="border:0px" cellspacing="0" cellpadding="0">
                                                         <tr>
                                                            <td valign="top" align="left" class="general"><img src="../../support/graphics/pointer.gif" alt="pointer" /></td>
                                                            <td valign="top" align="left" class="general">Send Message Payload&nbsp;<a href="../../domains/uvci/uvci_GenericMessageTransmission.htm#MCCI_MT000100UV01-msg" class="">MCCI_MT000100UV01</a></td>
                                                         </tr>
                                                      </table>
                                                   </td>
                                                </tr>
                                             </table>
                                          </td>
                                       </tr>
                                    </table>
                                 </td>
                              </tr>
                           </table>
                           <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                              <tr id="d0e108" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                 <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Send Accept Acknowledgement&nbsp;<a href="../../domains/uvci/uvci_GenericMessageTransmission.htm#MCCI_RM000200UV01-rmi" class="toc_link">MCCI_RM000200UV01</a></strong></span></td>
                              </tr>
                              <tr class="toc_row_master">
                                 <td class="toc_indent_flag_gap"> </td>
                                 <td valign="top">
                                    <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                                       <tr id="d0e110" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                          <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Message Local New  Accept Acknowledgement&nbsp;<a href="../../domains/uvci/uvci_GenericMessageTransmission.htm#MCCI_HD000200UV01-hmd" class="toc_link">MCCI_HD000200UV01</a></strong></span></td>
                                       </tr>
                                       <tr class="toc_row_master">
                                          <td class="toc_indent_flag_gap"> </td>
                                          <td valign="top">
                                             <table cellpadding="0" cellspacing="0" style="border:0px">
                                                <tr>
                                                   <td>
                                                      <table style="border:0px" cellspacing="0" cellpadding="0">
                                                         <tr>
                                                            <td valign="top" align="left" class="general"><img src="../../support/graphics/pointer.gif" alt="pointer" /></td>
                                                            <td valign="top" align="left" class="general">Accept Acknowledgement&nbsp;<a href="../../domains/uvci/uvci_GenericMessageTransmission.htm#MCCI_MT000200UV01-msg" class="">MCCI_MT000200UV01</a></td>
                                                         </tr>
                                                      </table>
                                                   </td>
                                                </tr>
                                             </table>
                                          </td>
                                       </tr>
                                    </table>
                                 </td>
                              </tr>
                           </table>
                           <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                              <tr id="d0e114" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                 <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Send Application Acknowledgement&nbsp;<a href="../../domains/uvci/uvci_GenericMessageTransmission.htm#MCCI_RM000300UV01-rmi" class="toc_link">MCCI_RM000300UV01</a></strong></span></td>
                              </tr>
                              <tr class="toc_row_master">
                                 <td class="toc_indent_flag_gap"> </td>
                                 <td valign="top">
                                    <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                                       <tr id="d0e116" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                          <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Application Level Acknowledgement&nbsp;<a href="../../domains/uvci/uvci_GenericMessageTransmission.htm#MCCI_HD000300UV01-hmd" class="toc_link">MCCI_HD000300UV01</a></strong></span></td>
                                       </tr>
                                       <tr class="toc_row_master">
                                          <td class="toc_indent_flag_gap"> </td>
                                          <td valign="top">
                                             <table cellpadding="0" cellspacing="0" style="border:0px">
                                                <tr>
                                                   <td>
                                                      <table style="border:0px" cellspacing="0" cellpadding="0">
                                                         <tr>
                                                            <td valign="top" align="left" class="general"><img src="../../support/graphics/pointer.gif" alt="pointer" /></td>
                                                            <td valign="top" align="left" class="general">Application Level Acknowledgement&nbsp;<a href="../../domains/uvci/uvci_GenericMessageTransmission.htm#MCCI_MT000300UV01-msg" class="">MCCI_MT000300UV01</a></td>
                                                         </tr>
                                                      </table>
                                                   </td>
                                                </tr>
                                             </table>
                                          </td>
                                       </tr>
                                    </table>
                                 </td>
                              </tr>
                           </table>
                           <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                              <tr id="d0e120" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                 <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Send Poll Request&nbsp;<a href="../../domains/uvci/uvci_PollingMessageTransmission.htm#MCCI_RM100100UV01-rmi" class="toc_link">MCCI_RM100100UV01</a></strong></span></td>
                              </tr>
                              <tr class="toc_row_master">
                                 <td class="toc_indent_flag_gap"> </td>
                                 <td valign="top">
                                    <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                                       <tr id="d0e122" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                          <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Send Poll Request&nbsp;<a href="../../domains/uvci/uvci_PollingMessageTransmission.htm#MCCI_HD100100UV01-hmd" class="toc_link">MCCI_HD100100UV01</a></strong></span></td>
                                       </tr>
                                       <tr class="toc_row_master">
                                          <td class="toc_indent_flag_gap"> </td>
                                          <td valign="top">
                                             <table cellpadding="0" cellspacing="0" style="border:0px">
                                                <tr>
                                                   <td>
                                                      <table style="border:0px" cellspacing="0" cellpadding="0">
                                                         <tr>
                                                            <td valign="top" align="left" class="general"><img src="../../support/graphics/pointer.gif" alt="pointer" /></td>
                                                            <td valign="top" align="left" class="general">Send Poll Request&nbsp;<a href="../../domains/uvci/uvci_PollingMessageTransmission.htm#MCCI_MT100100UV01-msg" class="">MCCI_MT100100UV01</a></td>
                                                         </tr>
                                                      </table>
                                                   </td>
                                                </tr>
                                             </table>
                                          </td>
                                       </tr>
                                    </table>
                                 </td>
                              </tr>
                           </table>
                           <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                              <tr id="d0e126" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                 <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Send Polling Accept Acknowledgement&nbsp;<a href="../../domains/uvci/uvci_PollingMessageTransmission.htm#MCCI_RM100200UV01-rmi" class="toc_link">MCCI_RM100200UV01</a></strong></span></td>
                              </tr>
                              <tr class="toc_row_master">
                                 <td class="toc_indent_flag_gap"> </td>
                                 <td valign="top">
                                    <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                                       <tr id="d0e128" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                          <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Send Accept Ack/Poll Next Msg&nbsp;<a href="../../domains/uvci/uvci_PollingMessageTransmission.htm#MCCI_HD100200UV01-hmd" class="toc_link">MCCI_HD100200UV01</a></strong></span></td>
                                       </tr>
                                       <tr class="toc_row_master">
                                          <td class="toc_indent_flag_gap"> </td>
                                          <td valign="top">
                                             <table cellpadding="0" cellspacing="0" style="border:0px">
                                                <tr>
                                                   <td>
                                                      <table style="border:0px" cellspacing="0" cellpadding="0">
                                                         <tr>
                                                            <td valign="top" align="left" class="general"><img src="../../support/graphics/pointer.gif" alt="pointer" /></td>
                                                            <td valign="top" align="left" class="general">Send Accept Ack/Poll Next Message&nbsp;<a href="../../domains/uvci/uvci_PollingMessageTransmission.htm#MCCI_MT100200UV01-msg" class="">MCCI_MT100200UV01</a></td>
                                                         </tr>
                                                      </table>
                                                   </td>
                                                </tr>
                                             </table>
                                          </td>
                                       </tr>
                                    </table>
                                 </td>
                              </tr>
                           </table>
                           <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                              <tr id="d0e132" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                 <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Send Polling Response W/ Message&nbsp;<a href="../../domains/uvci/uvci_PollingMessageTransmission.htm#MCCI_RM100300UV01-rmi" class="toc_link">MCCI_RM100300UV01</a></strong></span></td>
                              </tr>
                              <tr class="toc_row_master">
                                 <td class="toc_indent_flag_gap"> </td>
                                 <td valign="top">
                                    <table cellpadding="0" cellspacing="0" style="border:0px" class="help_table">
                                       <tr id="d0e134" class="toc_title_row" onclick="toggle(this);" style="cursor: hand;" onmouseover="highlightRow(this,1);" onmouseout="highlightRow(this,0);">
                                          <td valign="top" colspan="10"><span class="toc_title_arrow">&#9660;</span><span class="toc_title_text"><strong>Send Poll Response w/ Message&nbsp;<a href="../../domains/uvci/uvci_PollingMessageTransmission.htm#MCCI_HD100300UV01-hmd" class="toc_link">MCCI_HD100300UV01</a></strong></span></td>
                                       </tr>
                                       <tr class="toc_row_master">
                                          <td class="toc_indent_flag_gap"> </td>
                                          <td valign="top">
                                             <table cellpadding="0" cellspacing="0" style="border:0px">
                                                <tr>
                                                   <td>
                                                      <table style="border:0px" cellspacing="0" cellpadding="0">
                                                         <tr>
                                                            <td valign="top" align="left" class="general"><img src="../../support/graphics/pointer.gif" alt="pointer" /></td>
                                                            <td valign="top" align="left" class="general">Send Poll Response with Message&nbsp;<a href="../../domains/uvci/uvci_PollingMessageTransmission.htm#MCCI_MT100300UV01-msg" class="">MCCI_MT100300UV01</a></td>
                                                         </tr>
                                                      </table>
                                                   </td>
                                                </tr>
                                             </table>
                                          </td>
                                       </tr>
                                    </table>
                                 </td>
                              </tr>
                           </table>
                        </td>
                     </tr>
                  </table><br /></div>
            </div>
            <hr title="Separator from body" />
            <div class="subSection">
               <div class="header"><span class="icon"><img src="../../support/graphics/NormativeStandard.gif" alt="NormativeStandard1" /></span><span class="number">1 </span><span class="title"><a name="intro-MCCI_DO000000UV-ic">Overview</a></span></div>
               <div class="body">
                  <div class="subSubSection">
                     <div class="header"><span class="icon"> </span><span class="number">1.1 </span><span class="title"><a name="spec-scope">Introduction &amp; Scope</a></span></div>
                     <div class="body">
                        <p><strong>Introduction</strong></p>
                        <p>The Health Level Seven (HL7) Standard applies to the electronic exchange of data in all healthcare environments.  Within the
                           context of healthcare messaging, the HL7 standard is primarily concerned with the data content of exchanges between healthcare
                           applications, the sequence or interrelationships in the flow of messages and the communication of significant application
                           level exceptions or error conditions.
                        </p>
                        <p>This domain addresses the following aspects about the communications environment that is considered common to all HL7 Version
                           3 messaging implementations:
                        </p>
                        <ol>
                           <li>A specification for the composite HL7 version 3 message</li>
                           <li>A protocol for reliable message delivery</li>
                           <li>Generic "Communication Roles" that support the modes of HL7 messaging</li>
                           <li>Message control events that describe a framework for generic HL7 messaging</li>
                        </ol>
                        <p><strong>Scope</strong></p>
                        <p>Message control in the HL7 Version 3 messaging standard addresses </p>
                        <ol>
                           <li>the HL7 domain content for transport</li>
                           <li> the identification of sending and receiving entities for an HL7 messaging interaction </li>
                           <li>The relationship between interactions and generic "communication roles"</li>
                        </ol>
                        <p><strong>Generic Communication Environment for HL7 Messaging in Version 3</strong></p>
                        <p>The primary purpose of the HL7 messaging standard is to support the exchange of common information content between healthcare
                           applications.  As a protocol at Level Seven of the ISO Open Systems Interconnection (OSI) model, HL7 relies upon well-defined
                           protocols at the lower layers for mechanisms that ensure correct and complete packaging and delivery of message content.A
                           generic communication environment for HL7 messaging has the following characteristics:
                        </p>
                        <ol>
                           <li>A specification for messages that supports the routing of messages to their specified destination(s)</li>
                           <li>A protocol for reliable message delivery that can support
                              <ul>
                                 <li>An acknowledgment mode indicating if a message was delivered for subsequent processing</li>
                                 <li>An acknowledgment mode indicating if a message was delivered to a specific application that acknowledges the receipt with
                                    or without a response prepared to return to the originating application
                                 </li>
                                 <li>An optional sequence number protocol to ensure messages are processed in a specific order when necessary</li>
                                 <li>Error handling rules for use cases consistent with HL7 messaging</li>
                                 <li>Security services that are consistent with the current technology capabilities</li>
                              </ul>
                           </li>
                        </ol>
                        <p>To implement HL7 Version 3 messaging, the Version 3 messaging standard must be able to</p>
                        <ol>
                           <li>specify how messaging communications should be conducted</li>
                           <li>respond to exceptions or errors that are experienced by a generic messaging framework that is processing an HL7 messaging
                              interaction
                           </li>
                        </ol>
                        <p>The following sections briefly discuss how the Version 3 messaging standard reconciles information exchange needs with a generic
                           messaging framework.
                        </p>
                        <p><em>Specification for HL7 Version 3 Composite Message</em></p>
                        <p>An overview of the HL7 Version 3 Composite Message is given here for the purpose of conveying where information about a Version
                           3 message can be found by an application or message handling service that will be responsible for implementing the transport
                           of HL7 Version 3 messages.  At the highest level, an HL7 Version 3 Composite Message is currently composed of 3 components:
                        </p>
                        <ol>
                           <li>An "HL7 Transmission wrapper"  (always)</li>
                           <li>A "Trigger Event Control Act" (required for all messages except accept level acknowledgements, for which it is not permitted)</li>
                           <li>The "HL7 Domain Content" specified by an HL7 domain specific technical committee (required for each Trigger Event Control
                              Act)
                           </li>
                        </ol>
                        <p><strong>Note: </strong>Transmission Infrastructure is not to be confused with the content of Transport Specifications.  Transmission infrastructure
                           describes the information model, messages and interactions related to the assembly of an HL7 v3 composite message.  The Transport
                           Specifications address moving to message payload (the HL7 v3 composite message) from sender to receiver.
                        </p>
                        <p>This chapter of the Infrastructure specification provides detailed structural specifications for the "HL7 Transmission Wrapper".
                           What follows are brief overviews of the purpose and content of the above mentioned 3 components.
                        </p>
                        <p><em>HL7 Transmission Wrapper</em></p>
                        <p>The "HL7 Transmission wrapper" includes information needed by a sending application or message handling service to package
                           and route the V3 Composite Message to the designated receiving application(s) and/or message handling service(s).  This wrapper
                           also includes attributes that identify a generic messaging mode.  This generic messaging mode has a handling behavior that
                           is consistent with the HL7 defined messaging interaction for which the composite message instance has been created.  All HL7
                           Version 3 messages have an appropriately configured "HL7 Transmission wrapper".
                        </p>
                        <p><em>Trigger Event Control Act</em></p>
                        <p>The "Trigger Event Control Act" contains administrative information related to the "controlled act" which is being communicated
                           as a messaging interaction.  It is also the part of HL7 messages that can convey status or commands for logical operations
                           being coordinated between healthcare applications, e.g., the coordination of query specification/query response interactions
                           and registry act interactions.  The Control Act does not appear in accept level acknowledgements (i.e., messages used only
                           for conveying the status of message communications) or with messages carrying commands to coordinate the operation of message
                           handling services.
                        </p>
                        <p><em>HL7 Domain Content</em></p>
                        <p>The "HL7 Domain Content" is the primary domain content of the messaging interaction (when it is present).  It contains domain
                           specific content that is specified by an HL7 technical committee to satisfy a use case driven requirement for an HL7 messaging
                           interaction.  Certain interactions will employ the use of Shared Messages (as defined in <a href="../../domains/uvmt/uvmt.htm#intro-COMT_DO000000UV-ic" class="">Shared Messages Domain</a>) to e.g. convey status type changes and application level acknowledgements.  
                        </p>
                        <p><strong>Protocol for Reliable Message Delivery</strong></p>
                        <p>The HL7 messaging standard has historically maintained "Application (Level 7) Processing Rules" regardless of the lower layer
                           protocols of the communications environment to guarantee reliable message delivery. Briefly, these rules specify
                        </p>
                        <ol>
                           <li>An accept level message acknowledgement by a message receiver</li>
                           <li>An application level message acknowledgement by a message receiver</li>
                           <li>An optional sequence number protocol</li>
                        </ol>
                        <p>Applications using the HL7 messaging standard should observe these requirements to be guaranteed reliable message delivery.
                           In the version 3 HL7 Message Development Framework, these rules should be specified as characteristic of Sending and Receiving
                           Communication Roles and Receiving Application Communication Responsibilities. In the HL7 Version 3 Composite Message, these
                           characteristics are visible in the HL7 transmission wrapper.  It is the responsibility of Communication Roles that implement
                           HL7 Version 3 Application Roles to enforce the appropriate handling for HL7 V3 messaging interactions.  (Reference more discussion
                           of Communication Roles below)
                        </p>
                        <p><em>Levels of Acknowledgement</em></p>
                        <p>The HL7 transmission wrapper will specify what levels of acknowledgement will be provided by the receiving system and/or application.
                           The levels are the accept-level ("commit") and the application-level. HL7 Version 3 standard added support for multiple receiving
                           applications. In order to make this addition and still insist on the reliable delivery of messages without stalling sending
                           applications, senders must include functionality to prevent such stalling.  One approach would be to provide for a logically
                           unique outbound message queue for each receiver. As such, a queue handler deals with only message acknowledgements from a
                           single receiver and errors with that receiver would not stall messages being sent to other receivers.. Thus a problem with
                           a communication link to one of many receivers should never delay a sending application. In addition, it should be noted that
                           the HL7 Version 3 standard does not support acknowledgement protocols (such as 2-phase commit) that will suspend a sender
                           until all receivers have acknowledged a particular message.
                        </p>
                        <p>Accept Level Acknowledgement</p>
                        <p>The protocol software on the receiving system performs the following steps upon receiving a message:</p>
                        <ol>
                           <li>Accepts the message</li>
                           <li>Makes an initial determination as to whether or not the message can be accepted, based on factors such as:
                              <ul>
                                 <li>The status of the interface</li>
                                 <li>The availability of safe storage onto which the message can be saved</li>
                                 <li>The syntactical correctness of the message, if the design of the receiving system includes this type of validation at this
                                    phase
                                 </li>
                                 <li>The interaction identifier, structure type identifier, version and processing code, if the design of the receiving system
                                    includes this type of validation at this phase
                                 </li>
                              </ul>
                           </li>
                           <li>Examines the HL7 transmission wrapper to determine whether or not the initiating system requires an accept level acknowledgment.
                              If it does, the responding system returns an accept level acknowledgment message with:
                              <ul>
                                 <li>A commit accept (CA) acknowledgement type code if the message can be accepted for processing (this is sometimes referred to
                                    as an ACK - positive acknowledgement)
                                 </li>
                                 <li>A commit reject (CR) in acknowledgement type code if the one of the validated values (above) is not acceptable to the receiving
                                    application (this is sometimes referred to as an NAK - negative acknowledgement) 
                                 </li>
                                 <li>A commit error (CE) in acknowledgement type code if the message cannot be accepted for any other reason (e.g., sequence number
                                    error; this is sometimes referred to as an NAK - negative acknowledgement).
                                 </li>
                              </ul>
                           </li>
                        </ol>
                        <p>Application level Acknowledgement</p>
                        <p>If the interaction, as indicated by the interaction identifier in the HL7 transmission wrapper, indicates that the initiating
                           system also requires an application acknowledgment (sometimes referred to as a functional response), this can be returned
                           as an immediate response or as the initial message of a later (or deferred) exchange.  Accept-level Acknowledgements must
                           be used with each transmission if the deferred Application-level option is chosen.
                        </p>
                        <p>In this application acknowledgement mode, the application software on the destination system performs <strong>one </strong>of these functions:
                        </p>
                        <ol>
                           <li>Processes the message successfully, generating the functional response message with an AA acknowledgement type code</li>
                           <li>Sends a functional error response, providing error information in the domain content of the response message with an AE acknowledgement
                              type code (sometimes referred to as an application error response)
                           </li>
                           <li>Fails to process (reject) the message for reasons unrelated to its content or format (system down, internal error, etc.).
                              For most such problems it is likely that the responding system will be able to accept the same message at a later time. The
                              implementers must decide on an application-specific basis whether the message should be automatically sent again. The response
                              message contains an AR acknowledgement type code (sometimes referred to as an application error response).
                           </li>
                        </ol>
                        <p>Certain interactions will employ the use of <a href="../../domains/uvmt/uvmt.htm#intro-COMT_DO000000UV-ic" class="">Shared Messages</a> as the functional response.  Refer to that section for further explanation and examples.
                        </p>
                        <p>In the case of an application error or rejection response, the reason for the response must be communicated.  Refer to the
                           <a href="../../domains/uvai/uvai.htm#intro-MCAI_DO000000UV-ic" class="">Trigger Event Control Act</a> section for further explanation and examples.
                        </p>
                        <p>The application acknowledgment (functional response) message is passed by the destination system to the initiating system,
                           whose protocol software passes the response message to the initiating application.
                        </p>
                        <p>For this message, the receiving system acts as the initiator. Since the message the receiving system sends is application-specific,
                           the models of these application-level response messages are defined in the relevant application-specific domain. If needed,
                           this application acknowledgment message can itself require an accept acknowledgment message. Whether an application response
                           may request another application acknowledgment message,  is dependent on the design of the message interaction sequence as
                           defined in the relevant application-specific domain.
                        </p>
                        <p>At this point, the application acknowledgment portion of this message exchange is considered complete.</p>
                        <p>If the processing on the receiving system goes through multiple stages, domain-defined messages may be used to relay status
                           or informational changes to other systems (including the original initiating system). Such messages are not part of the acknowledgment
                           scheme for the original message, but are considered to be independent messages triggered by events on the (original) responding
                           system.
                        </p>
                        <p><em>Sequence Number Protocol</em></p>
                        <p>For certain types of data transactions between systems the issue of keeping databases synchronized is critical. HL7 offers
                           the option of a sequence number protocol. Although it is true that a simple one-to-one acknowledgement scheme can prevent
                           out of sequence transactions, only the use of sequence numbers can prevent duplicate transactions.
                        </p>
                        <p>When the sequence number protocol is implemented, the sequence number will be conveyed as an attribute of the Message class.
                           The expected sequence number will be appropriately valued for acknowledgements when the sequence number protocol is in use.
                        </p>
                        <p>Although this sequence number protocol is limited to the use of sequence numbers on a single transaction stream between two
                           applications, this sequencing protocol is sufficiently robust to allow the design of HL7-compatible store-and-forward applications.
                           Note that the implementation of HL7 Version 3 messaging may use a message transmission infrastructure that guarantees message
                           delivery without duplicates.  In such implementations, the use of the sequence number protocol as described in the following
                           paragraphs is not needed.
                        </p>
                        <p>The rules for managing the sequence number protocol are noted as follows:</p>
                        <ol>
                           <li>Initial conditions:
                              <ul>
                                 <li>The system receiving the data stream is expected to store the sequence number of the most recently accepted transaction in
                                    a secure fashion before acknowledging that transaction. This stored sequence number allows comparison with the next transaction's
                                    sequence number, and the implementation of fault-tolerant restart capabilities.
                                 </li>
                                 <li>The initiating system keeps a queue of outgoing transactions indexed by the sequence number.  The length of this queue must
                                    be negotiated as part of the design process for a given link.  The minimum length for this queue is one.
                                 </li>
                                 <li>The sequence number is a positive (non-zero) integer; and it is incremented by one (by the initiating system) for each successive
                                    transaction.
                                 </li>
                              </ul>
                           </li>
                           <li>Starting the link:
                              <ul>
                                 <li>The value of 0 (zero) for a sequence number is reserved: it is allowed only when the initiating system (re-)starts the link.</li>
                                 <li>If the receiving system gets a transaction with a 0 (zero) sequence number, it should respond with an accept acknowledgment
                                    message whose expected sequence number element contains a sequence number one greater than the sequence number of the last
                                    transaction it accepted.  If this value does not exist (as on the first startup of a given link), the expected sequence number
                                    element should contain a sequence number of -1, meaning that the receiving system will use the positive, non-zero sequence
                                    number of the first transaction it accepts as its initial sequence number (see re-synching the link, item e below).
                                 </li>
                                 <li>The initiating system then sends the transaction indexed by the expected sequence number (if that expected transaction is
                                    still on its queue).  Otherwise the link is frozen for a manual intervention.
                                 </li>
                              </ul>
                           </li>
                           <li>Normal operation of the link: As it accepts each transaction, the receiving system: 
                              <ul>
                                 <li>securely stores the sequence number (which agrees with its expected sequence number)</li>
                                 <li>acknowledges the correct sequencing of the message by sending the expected sequence number of the next message in Acknowledgement.expectedSequenceNumber</li>
                              </ul>
                           </li>
                           <li>Error conditions (from point of view of initiating system):These are generated by the receiving system, by its comparison
                              of the sequence number sent out with the expected sequence number received with the message acknowledgement.
                              <ul>
                                 <li>"expected sequence number is one greater than current value":  The previous acknowledgment was lost.  That transaction was
                                    sent again.  Correct by sending next transaction.
                                 </li>
                                 <li>"expected sequence number less than current value": Initiating system can try starting again by issuing a transaction with
                                    a sequence number of zero; or freeze the link for manual intervention.
                                 </li>
                                 <li>"any other error": freeze the link for manual intervention.</li>
                              </ul>
                           </li>
                           <li>Forcing re-synchronization of sequence numbers across the link:The value of -1 for a sequence number is reserved; it is allowed
                              only when the initiating system is re-synching the link.  Thus if the receiving system gets a value of -1 for the sequence
                              number, it should return an accept acknowledgment message with a -1 for the expected sequence number.  The receiving system
                              then resets its sequence number, using the non-zero positive sequence number of the next transaction it accepts.
                           </li>
                           <li>Notes:When the initiating system sends a message with a sequence number of 0 or -1 (see 2 or 5 above), the contents beyond
                              the Message element need not be present in the message.  In terms of the responding system, for these two cases, only an accept
                              acknowledgment message is needed.
                           </li>
                        </ol>
                        <p><em>Error Handling</em></p>
                        <p>Error handling within HL7 messaging is confined to reporting errors in message structure, semantic content or failure on the
                           communication link with the receiving system. Other issues such as packet framing and transport integrity are addressed at
                           lower layers of the OSI framework and are outside the scope of this Standard.
                        </p>
                        <p>For these other issues that are considered outside the scope of the HL7 messaging standard, Appendix C of the HL7 Standard
                           Implementation Guide (available from the HL7 Library) provides informative guidance in the use of such protocols as the ANSI
                           X3.28 Data Link Protocol and the HL7 Minimal Lower Layer Protocol (MLLP).  Although this reference addresses the HL7 version
                           2 standard, it offers guidance in the configuration of lower level mechanisms for implementing messages conforming to any
                           HL7 messaging standard.  Also refer to the <a href="../../infrastructure/transport/transport-mllp.htm#MLLP-intro">V3 Transport - MLLP</a>  which brings the Version 2 material into Version 3.   Technology specific support for error handling will be provided by
                           the HL7 organization through normative Implementation Technology Specifications (ITS) that will be development through a consensus
                           of implementers committed to offering solutions using a given technology.
                        </p>
                        <p><em>Security</em></p>
                        <p>HL7 messages may be transmitted within a framework that allows for secure communications. The framework in use for a particular
                           implementation can be referenced in one of the messaging profile identifiers included.
                        </p>
                        <p>While HL7 does not mandate the use of a particular framework, informative guidance and suggestions are available in two documents:</p>
                        <ul style="margin-left:20px;">
                           <li>Standard Guide for Implementing EDI (HL7) Communication Security, Version 1.1 (July 1999)</li>
                           <li>Health Level Seven Security Services Framework, draft (July 1999)</li>
                        </ul>
                        <p>Security mechanisms in the references above apply to securing a communication link or securely communicating composite domain
                           content. The support of non-reputable digital signatures on the granular application level information content is planned.
                           Currently, the coordination of this support has not been fully completed for implementation.  The implementation of this capability
                           will be dependent on an encoding technology such as XML and will be specified in an HL7 ITS with this focus.
                        </p>
                        <p><strong>Overview of HL7 Communication Roles for Message Control</strong></p>
                        <p>The justification for HL7 Communication Roles for Version 3 message control comes from a need to formalize the expectations
                           of HL7 Application Roles for messaging communication services.  Application Roles specify the expected message handling behavior
                           for a set of interactions.  The HL7 Message Development Framework has led to the creation of numerous Application Roles by
                           the technical committees that are developing HL7 Version 3 messaging interactions.  Communication Roles are intended to specify
                           a core set of messaging communication services that can support the messaging communication requirements of HL7 Application
                           Roles. Given a generic messaging communications infrastructure, an implementer can claim support for a sub-set or all of the
                           HL7 Communication Roles and the set of HL7 Application Roles that can be supported can be readily identified.  HL7 Application
                           Roles represent abstract specifications for implementation interfaces to healthcare applications for the purpose of conducting
                           HL7 Version 3 message interactions.  If a healthcare application system (e.g. a pharmacy order entry and dispensing application
                           system) does not exist in the target-messaging environment, the corresponding HL7 Application Roles cannot be implemented
                           to conduct messaging interactions even if the messaging communications infrastructure has implementations of the required
                           HL7 Communication Roles.
                        </p>
                        <p>The HL7 Communication Roles can be considered to exist in 1 to 1 pairs or 1 to n relationships (e.g. one Notification Message
                           Sender may send to many Notification Message Receivers that do not implement any form of Acknowledgement). 
                        </p>
                        <p>The messaging communication services that are provided by these Communication Roles will be described in storyboard section
                           of each topic area in this domain.  Events that these Communication Roles manage are initially described in the application
                           roles section of each topic area in this domain.  They are enumerated in greater detail in the trigger event sections.
                        </p>
                        <p>There are events that for the control of both <b>(The user identified specification IMMCCI 
                              is not available)</b> and <b>(The user identified specification IMMCCI 
                              is not available)</b> message send sequences.  HL7 Communication Roles handles these latter events by providing a remote message queue polling
                           service.  
                        </p>
                        <p><strong>Note: </strong>The interactions in which each HL7 Communication Role participates are documented in the message control storyboards section
                           for each topic area.  Each interaction is initiated by a message control state transition that is assigned a Message Control
                           Trigger Event.  Reference the trigger events section for each topic area for detailed descriptions of the Version 3 Message
                           Control Trigger Events.
                        </p>
                        <p><strong>Note:</strong> The Transmission Infrastructure domain will include storyboards, application roles, trigger events, interactions, and message
                           types shared by any of the healthcare domains.  Some of these will be for example purposes only. The examples will not be
                           used in their own right but as a reusable Transmission Wrapper in various domains.  When used in this fashion, the message
                           is transmitted as a result of a domain interaction and between two domain application roles.   In the case where the artifacts
                           can be used in their own right, the reader will be informed of that as well.
                        </p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="subSection">
               <div class="header"><span class="icon"> </span><span class="number">1.2</span><span class="title"><a name="dmims-MCCI_DO000000UV-ic">Domain Message Information Models</a></span><hr class="sectionrule" />
               </div>
               <div class="body">
                  <div class="subSubSection">
                     <div class="header"><span class="icon"> </span><span class="number"></span><span class="title"><a name="MCCI_DM000000UV-rmi">Transmission Infrastructure Domain Model  (MCCI_DM000000UV) </a></span></div>
                     <div class="body">
                        <div class="heading">
                           <p>Diagram</p>
                        </div><a style="border:0px solid none;" href="editable/MCCI_DM000000UV.htm" target="_blank"><img class="graphic" src="editable/images/T-MCCI_DM000000UV.png" alt="" /><br />
                           						Click thumbnail above to open larger graphic in a new window
                           					</a><p></p>
                        <div class="heading">Description</div>
                        <p>The Transmission Wrapper Domain Model was created by including and grouping the Message Control portion of the RIM into communication
                           layer; non-query events; query events.
                        </p>
                        <div class="heading"><br /><b class="heading">Design Walk-through</b></div>
                        <p>The outer most layer of all HL7 messages is the "Transmission Wrapper".  This cluster of classes, rooted at Message, identifies
                           the sender and receiver of the message and the particular kind of message being communicated. It has attributes to facilitate
                           the sequence number and acknowledgment protocols.  It carries the healthcare domain content through a link to a "Trigger Event
                           Control Act", described in the <a href="../../domains/uvai/uvai.htm#intro-MCAI_DO000000UV-ic" class="">Message Control Act Infrastructure</a>.
                        </p>
                        <p>HL7 messages are thought of as being sent between Logical HL7 Applications.  The Logical HL7 Application is a specific piece
                           of software ("ACME Order Entry"), which acts on behalf of an organizational entity, e.g. a core facility ("Methodist Hospital
                           Registration") or an administrative entity (e.g. "Crosstown Sports Medicine Clinic").
                        </p>
                        <p>Within the broader HL7 infrastructure, interfaces are established to route messages between logical senders and logical receivers.
                           Such an infrastructure may be as simple as "Logical Receiver ARCHIVE is a TCP/IP reader at port 8322 on host xyx.com", or
                           may say "Messages to Logical Receiver ARCHIVE are sent via SOAP to host archive.com." 
                        </p>
                        <p>The expectation is that the message transmission layer can look at the Receiver specified in an HL7 message, consult this
                           "interface-time connection information", and then create a fully compliant message for the transmission technology (e.g.,
                           TCP/IP, SOAP, mime-email, or FTP) which will actually carry the message.  Each transmission technology will pluck out different
                           pieces of the HL7 message to place into the actual technology specific message, and will add information from its "interface-time"
                           database.
                        </p>
                        <p>The root class is the Message class.  'Message' deals with the message as a "thing", rather than actual healthcare information
                           itself.  The message, as "thing", has the following required Message attributes.
                        </p>
                        <ul>
                           <li>
                              <p><em>id</em>: A unique identifier for this message.  It will never be reused in time, nor will it be used by another sending application.
                                 As such, it can serve to reliably allow an acknowledgment message to refer to the message that it acknowledges, and can be
                                 used as a bookkeeping index to keep track of messages that have been sent and handled.  Note that, even though an ever-increasing
                                 numbering scheme is often being used by the sending application, the id of a message can't be used to determine the sequence
                                 of messages. The sequence number protocol should be used instead.  The Transmission Wrapper identifies the ultimate receiving
                                 and sending systems. Any intermediary systems are not identified in the wrapper. If the message is physically sent to a router,
                                 they will inspect the receiver details and forward to the receiver or another routing application. <strong>Version 2 mapping:</strong> MSH-10 Message Control ID
                              </p>
                           </li>
                           <li>
                              <p><em>creationTime</em>: The time that the message was created, as opposed to the time of some event that the message may be describing. <strong>Version 2 mapping:</strong> MSH-7 Date/Time Of Message
                              </p>
                           </li>
                           <li>
                              <p><em>interactionId</em>: The identification of the unique information interchange.  The attribute values are derived from the HL7 MDF interaction
                                 names, examples include "POLB_<strong>IN</strong>100100" and "COMT_<strong>IN</strong>300652".  The receiver responsibilities, including application/functional responses, will be determined by the interaction
                                 that this identifier represents.
                              </p>
                           </li>
                           <li>
                              <p><em>processingCode</em>: defines whether the message is part of a production, training, or debugging system.  <strong>Version 2 mapping: </strong>MSH-11 Processing ID component 1 (processing id)
                              </p>
                           </li>
                           <li>
                              <p><em>processingModeCode</em>: defines whether the message is being sent in current processing (the usual mode), archive mode, initial load mode, restore
                                 from archive mode, etc.  <strong>Version 2 mapping: </strong>MSH-11 Processing ID component 2 (processing mode)
                              </p>
                           </li>
                           <li>
                              <p><em>acceptAckCode</em>: identifies the conditions under which accept acknowledgements are required to be returned in response to this message. Note
                                 that accept acknowledgement address two different issues at the same time: reliable transport as well as syntactical correctness.
                                 <strong> Version 2 mapping:</strong> MSH-15 Accept Acknowledgment Type
                              </p>
                           </li>
                        </ul>
                        <p>Other optional attributes can be used to specify the details of the delivery, including the sequence number protocol.</p>
                        <ul>
                           <li>
                              <p><em>securityText</em>: specified for applications to implement security features for a transmission.  Its use is not further specified at this
                                 time.  <strong>Version 2 mapping</strong>: MSH-8 Security
                              </p>
                           </li>
                           <li>
                              <p><em>versionCode</em>: The HL7 version used by the sending system; matched by the receiving system to its own version to be sure the message will
                                 be interpreted correctly. This version indicates the publication "package" as a whole. The publication package (standard,
                                 DSTU, realm subset, etc.) is a collection of many artifacts of which a snapshot is taken and the version is that of all the
                                 artifacts in the release as a whole. <strong>Version 2 mapping: </strong>MSH-12 Version ID. 
                              </p>
                           </li>
                           <li>
                              <p><em>profileId</em>: The identification of one or more message profiles. The sender indicates that the message conforms to these message profiles;
                                 a receiving system may use this to correctly validate and interpret the message. <strong>Version 2 mapping:</strong> MSH-21 Message Profile Identifier 
                              </p>
                              <p><strong>Note to Implementers: </strong>Although this collection is a SET, the profiles should be listed in ascending order of preference for validation.
                              </p>
                           </li>
                           <li>
                              <p><em>sequenceNumber</em>: provided for implementing the sequence number protocol (incremented by one for each subsequent value assignment).  <strong>Version 2 mapping:</strong> MSH-13 Sequence Number
                              </p>
                           </li>
                           <li>
                              <p><em>attachmentText</em>: contains arbitrary attachments of data blocks to which can be referred to from the interior of the message (any ITS is advised
                                 to represent the attachments behind the main message body).<strong> Version 2 mapping: </strong>none as of V2.5 
                              </p>
                           </li>
                        </ul>
                        <p><strong>Device </strong>is the sole mandatory class to identify the device or software agents of the sender and receiver and, therefore, will appear
                           in all Transmission Wrappers derived from this D-MIM.  Device.id provides the unique identification of the sending or receiving
                           hardware device or software agent.  Optional organization or location classes are available to further describe sender and
                           receiver.  A contact person for the organization can be identified using the R_NotificationParty CMET.  Note, however, that
                           Transport specifications such as ebXML will only take account of Device.id in making transport and routing decisions. Device.telecom
                           is an optional attribute supporting the inclusion of a physical application network address, to supplement the mandatory Device.
                        </p>
                        <p>The <strong>Version 2 mapping </strong>for the Sender is a combination of MSH-3 Sending Application and MSH-4 Sending Facility.  The <strong>Version 2 mapping</strong> for the receiver is a combination of MSH-5 Receiving Application and MSH-6 Receiving Facility.
                        </p>
                        <p>Presumably, in order for the actual routing to occur, the sender will need to know how to contact a particular receiver, and
                           will not necessarily care whether or not the receiver is representing a device or an organization.  It will just need to know
                           how to contact the "thing" denoted by the identifier Device.id.  If Device.telecom is specified, then the message claims that
                           the logical receiver can be reached at the given telecom address.
                        </p>
                        <p>The "respondTo" entity denotes where the receiver should send its response or reply. It is represented by an EntityRsp.  If
                           this class is not specified, the receiver would send its response or reply to the Sender.  There is no <strong>Version 2 mapping</strong> for this.
                        </p>
                        <p>The Devices are connected to the Message through instances of 'CommunicationFunction' which serves as a linking class.  The
                           CommunicationFunction class carries only a label indicating whether the connected Device is the receiver, sender or responder
                           of a message.
                        </p>
                        <p>The message also contains an optional set of AttentionLine class.  This class allows parameters for a technology specific
                           transport to be represented in the V3 message transmission wrapper. It allows the sender to attach additional information
                           (using the keyWordText and value attributes) that may be of use in routing the message.   The intent is that a routing engine
                           could be programmed to not need to inspect the entire message.  In certain scenarios, the actual message payload may be encrypted,
                           and therefore off-limits to a router. The sender may choose to pluck data out of the payload and add it to the attention lines
                           before encrypting the payload.  The use of this item is not further specified, but it should not affect processing once a
                           message has been delivered.
                        </p>
                        <p>The real content of a message is carried by the ControlActProcess which represents the Trigger Event Control Act.  The exception
                           to this are the accept level acknowledgements (<a class="">Send Accept Acknowledgement</a> and the <a class="">Send Accept Acknowledgement/Poll Next Msg</a> which would not have the ControlActProcess class.  The ControlActProcess (and nested HL7 domain content) represents the result
                           being communicated, or the details of an event notification.  Currently, the transmission wrapper is a container for one Trigger
                           Event Control Act.  Future versions of HL7 may make use of a Batch structure which contains a set of Message classes.  Refer
                           to the <a href="../../domains/uvai/uvai.htm#MCAI_DM700200UV-rmi" class="">Control Act Infrastructure D-MIM walk-through</a> for details of the elements and attributes of the Trigger Event Control Act.
                        </p>
                        <p>Finally, some messages are accept level acknowledgements.  In this case, the ControlActProcess will be omitted, and instead
                           an Acknowledgement class is returned.  The application-level acknowledgement (functional response) may include an Acknowledgement
                           class in addition to the required ControlActProcess.
                        </p>
                        <p>The <strong>Acknowledgment </strong>class carries information for the sequence number protocol, optional information used by the message waiting protocol, but
                           mainly carries, via the TargetMessage class which contains the message identifier the Message.id of the message for which
                           this is the acknowledgment. The following are Acknowledgment attributes
                        </p>
                        <ul>
                           <li>
                              <p><em>typeCode</em>: a general flag indicating success or failure (the vocabulary for this code is controlled by HL7 - required). <strong>Version 2 mapping: </strong>MSA-1 Acknowledgment Code 
                              </p>
                           </li>
                           <li>
                              <p><em>expectedSequenceNumber</em>: used in the sequence number protocol. <strong>Version 2 mapping: </strong>MSA-4 Expected Sequence Number 
                              </p>
                           </li>
                           <li>
                              <p><em>messageWaitingNumber</em>: the number of messages the acknowledging application has waiting on a queue for the receiving application (Note: only used
                                 in combination with polling messages).  <strong>Version 2 mapping:</strong> none as of V2.5 but planned for V2.6
                              </p>
                           </li>
                           <li>
                              <p><em>messageWaitingPriorityCode</em>: Indicates the highest importance level of the set of messages the  acknowledging application has waiting on a queue for
                                 the receiving application (Note: only used in combination with polling messages; the vocabulary for this attribute - MessageWaitingPriority
                                 - has no values as it is site defined).  <strong>Version 2 mapping:</strong> none as of V2.5 but planned for V2.6
                              </p>
                           </li>
                        </ul>
                        <p>It is recommended that error information be transmitted in encoded form, rather than text form, wherever it is possible to
                           do so.
                        </p>
                        <p>Each Acknowledgement class will refer to the appropriate <strong>TargetMessage </strong>class.  The following are TargetMessage attributes 
                        </p>
                        <ul>
                           <li>
                              <p><em>id:</em> the message identifier the Message.id of the message for which this is the acknowledgment - required). <strong>Version 2 mapping:</strong> MSA-2 Message Control ID 
                              </p>
                           </li>
                        </ul>
                        <p>A variable number of <strong>AcknowledgementDetail </strong>classes can carry more detailed information about the communication, parsing or non-business-rule validation of the message
                           being acknowledged. Information regarding business-rule validation will be found in DetectedIssueEvent which is discussed
                           further in the <a href="../../domains/uvai/uvai.htm#MCAI_DM700200UV-rmi" class="">Trigger Event Control Act Infrastructure D-MIM walk-through</a>.  The following are AcknowledgementDetail attributes.
                        </p>
                        <ul>
                           <li>
                              <p><em>typeCode</em>: identifies the kind of information specified in the acknowledgement message (options are: Error, Warning or Information.
                                 <strong>Version 2 mapping:</strong> ERR-4 Severity 
                              </p>
                           </li>
                           <li>
                              <p><em>code</em>: identifies the specific message to be provided (Note: a textual value may be specified as the print name, or for non-coded
                                 messages, as the original text, e.g., 'Required attribute xxx is missing', 'System will be unavailable March 19 from 0100
                                 to 0300'; also see the <b>(The user identified specification IMMCCI 
                                    is not available)</b>).  <strong>Version 2 mapping: </strong>The combination of ERR-3 HL7 Error Code, ERR-5 Application Error Code, and ERR-6 Application Error Parameter 
                              </p>
                           </li>
                           <li>
                              <p><em>text</em>: additional diagnostic information relevant to the message (this may be free text or structured data, e.g. XML, to convey
                                 Java exception, memory dump, internal error code, call-stack information, etc.). <strong>Version 2 mapping:</strong> ERR-7 Diagnostic Information 
                              </p>
                           </li>
                           <li>
                              <p><em>location</em>: zero or more positions within the message being acknowledged that is related to the message (e.g., location of element having
                                 missing element or location of two elements that violate conditionality constraint).  <strong>Version 2 mapping: </strong>ERR-2 Error Location 
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <p>
               <table>
                  <tbody>
                     <tr>
                        <td><a class="custombutton" href="#top">Return to top of page</a></td>
                     </tr>
                  </tbody>
               </table>
            </p>
         </div>
      </div>
   </body>
</html>